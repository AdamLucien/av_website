<!doctype html>
<html lang="cs">
<head>
<base href="/av_website/">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>AV · Dopis</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/site.css">

  <script defer src="assets/data.js"></script>
  <script defer src="assets/shared-bg.js"></script>
  <script defer src="assets/partials/header.js?v=1"></script>

  <!-- Písma s plnou latin+cyrillic -->
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Noto+Serif:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  <style>
    .bg-mesh{background:
      radial-gradient(900px 600px at 20% -20%, rgba(139,92,246,.20), transparent 60%),
      radial-gradient(900px 600px at 80% 120%, rgba(34,211,238,.18), transparent 60%),
      linear-gradient(180deg,#0a0f1f,#0e1220);}

    /* === FIX BLUR === */
    /* stáhnout „dešťovou“ vrstvu pod obsah a zrušit její blur */
    .bg-layer,
    .bg-layer::before,
    .bg-layer::after{
      z-index:-1 !important;
      pointer-events:none !important;
      backdrop-filter:none !important;
      -webkit-backdrop-filter:none !important;
    }
    /* kdyby měl blur někdo z předků, tady ho zrušíme */
    .paper, .paper * { filter:none !important; }

    /* — PAPÍR — */
    main.container.section{position:relative; z-index:10;}
    .paper{
      position:relative;
      z-index:20;
      margin-inline:auto;
      border-radius:18px;
      padding:28px 26px 40px;
      color:#222;
      background:
        radial-gradient(1200px 800px at 30% -20%, rgba(255,255,255,.75), rgba(255,255,255,.35) 55%, rgba(255,255,255,.2) 70%, rgba(255,255,255,.15) 100%),
        #f8f5ee;
      box-shadow: 0 20px 60px rgba(0,0,0,.40);
      overflow:visible;
    }
    .paper::before{
      content:""; position:absolute; inset:0; opacity:.22;
      background:
        repeating-linear-gradient(90deg, rgba(0,0,0,.018) 0 2px, transparent 2px 4px),
        radial-gradient(1200px 800px at 10% 10%, rgba(0,0,0,.03), transparent 60%),
        radial-gradient(1000px 700px at 90% 20%, rgba(0,0,0,.02), transparent 65%);
      mix-blend-mode:multiply; pointer-events:none; z-index:0;
    }
    .paper::after{
      content:""; position:absolute; inset:-2%; pointer-events:none; z-index:0;
      background:radial-gradient(1200px 800px at 50% 0, transparent 40%, rgba(0,0,0,.05) 90%);
    }
    .paper > *{position:relative; z-index:1;}

    /* TYPO */
    .letter-title{
      font-family:'Caveat', cursive;
      font-size:clamp(38px,7vw,62px);
      line-height:1.05;
      text-align:center;
      color:#0b2545;
      margin:2px 0 6px;
    }
    .lede{
      font-family:'Noto Serif', serif;
      font-size:clamp(18px,3.8vw,22px);
      color:#3a3a3a;
      text-align:center;
      opacity:.9;
    }
    .body{
      margin-top:18px;
      font-family:'Noto Serif', serif;
      font-size:clamp(18px,2.4vw,22px);
      line-height:1.80;
      white-space:pre-wrap;
    }
    .type-caret{ border-right:2px solid #0b2545; animation: caret 1s step-end infinite; }
    @keyframes caret { 50% { border-color: transparent; } }

    /* PODPIS – součást flow, ukáže se po dopsání */
    .signature{
      margin-top:32px;
      font-family:'Caveat', cursive;
      color:#0b2545;
      font-size:clamp(20px,3.2vw,26px);
      display:none;
      flex-direction:column;
      align-items:flex-end;
      gap:12px;
    }
    .sig-svg{ width:min(65%,420px); height:auto; filter:drop-shadow(0 8px 18px rgba(0,0,0,.25)); }

    @media (max-width:640px){
      .paper{padding:28px 18px 36px;}
      .body{font-size:clamp(18px,4.6vw,21px); line-height:1.9;}
      .sig-svg{max-width:86%;}
    }

    @media print{
      body{background:white;}
      #app-header, footer, .bg-layer, #avHearts{ display:none !important; }
      .paper{ box-shadow:none; border:0; margin:0; }
    }
  </style>
</head>

<body class="bg-mesh text-white selection:bg-amethyst/30">
  <div id="app-header"></div>

  <main class="container section relative z-10 max-w-5xl mx-auto">
    <section class="paper" data-reveal>
      <h1 id="h1" class="letter-title">Dopis</h1>
      <p id="lede" class="lede">—</p>

      <div class="body">
        <span id="text" class="type-caret"></span>
      </div>

      <div id="signature" class="signature">
        <div id="closing">—</div>
        <svg class="sig-svg" viewBox="0 0 620 180" fill="none">
          <path id="sigPath"
            d="M20 120 C 80 60, 120 140, 180 100
               M190 100 C 210 120, 240 120, 250 98
               M260 95 C 275 70, 300 70, 305 95
               M320 120 C 360 70, 400 170, 460 80
               M470 80 C 500 60, 520 110, 550 105
               M565 100 C 585 95, 600 110, 610 100"
            stroke="#1b1e2a" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </section>

    <footer class="text-center text-white/60 py-10 relative z-10">© AV — 17</footer>
  </main>

  <script>
    const LANG = localStorage.getItem('lang') || 'cs';
    const T = {
      cs:{ title:"Dopis pro Tebe", lede:"500 dní. 112 457 zpráv. Tisíce hovorů. A jedno společné 'my', které už nikdo nesmaže.", closing:"Navždy tvůj, Adam", letter:
`Moje lásko,

Dnes je to přesně 500 dní. Pět set dní od chvíle, kdy nás tenkrát v září spojil déšť a kdy se začal psát příběh, který dnes čítá přes sto tisíc zpráv. Ale i kdybychom jich napsali milion, žádná z nich nedokáže plně popsat to, co cítím, když se na mě podíváš.

Prošli jsme si vším. Od té první, až dětsky čisté euforie, přes tichá období, kdy se zdálo, že se slova vytrácí, až po dnešek. Dnešek, kdy už naše láska není jen o zamilovaných zprávách, ale o hlubokých hovorech, které trvají desítky minut. O hovorech, ve kterých se nebojíme přiznat, že máme strach. Právě v tom je naše největší síla – že ten strach z budoucnosti a z neznáma držíme spolu.

Vím, že nejsem snadný člověk. Někdy se ztrácím ve svých cestách a v práci, ale ty jsi ta, která mě vždycky vrátí domů. Naučila jsi mě, že domov není místo na mapě, ale pocit bezpečí, který cítím v tvojí přítomnosti. Vidím, jak se staráš o děti, slyším tvůj smích i tvůj hlas v audio zprávách, které si pouštím pořád dokola, a pokaždé si uvědomím, jaké mám štěstí.

Náš vztah dozrál. Už to není jen bouře deště, je to pevná stavba. I když se v našich zprávách v poslední době objevuje vážnost a obavy z toho, co přijde, chci, abys věděla jedno: Moje rozhodnutí patří tobě. Chci být tím rámem, o kterém jsme mluvili – pevným, stabilním a bezpečným, aby v něm tvá duše mohla dýchat a tvořit.

Děkuju ti za každou minutu našich dlouhých hovorů, za každý sticker, který mě rozesměje, i za to, že se mnou zůstáváš, i když je nebe zatažené. Slibuju ti, že tu budu. Že každé ráno začne mým „Dobré ráno, lásko“ a každý problém vyřešíme tím, že si o něm promluvíme, dokud se strach nerozplyne.

Píšeme novou kapitolu. Je v ní více hloubky, více pravdy a mnohem více nás. Těším se na každou další stránku.

Děkuju, že jsi moje všechno.
Děkuju, že mi věříš.
Děkuju, že mě miluješ takového, jaký jsem.

Miluju tě.`},
      ua:{ title:"Лист для Тебе", lede:"500 днів. 112 457 повідомлень. Тисячі дзвінків. І одне спільне «ми», яке вже ніхто не зітре.", closing:"Назавжди твій, Адам", letter:
`Моє кохання,

Сьогодні рівно 500 днів. П’ятсот днів з того моменту в вересні, коли нас поєднав дощ і почалася історія, що на сьогодні налічує понад сто тисяч повідомлень. Але навіть якби ми написали мільйон, жодне з них не зможе повністю передати те, що я відчуваю, коли ти дивишся на мене.

Ми пройшли крізь усе. Від тієї першої, по-дитячому чистої ейфорії, крізь часи тиші, коли здавалося, що слова зникають, до сьогоднішнього дня. Дня, коли наше кохання — це вже не просто закохані повідомлення, а глибокі розмови, що тривають десятками хвилин. Розмови, у яких ми не боїмося зізнатися, що нам страшно. Саме в цьому наша найбільша сила — у тому, що ми тримаємо цей страх перед майбутнім і невідомістю разом.

Я знаю, що я не легка людина. Інколи я гублюся у своїх справах та роботі, але ти — та, хто завжди повертає мене додому. Ти навчила мене, що дім — це не місце на мапі, а відчуття безпеки, яке я маю поруч із тобою. Я бачу, як ти дбаєш про дітей, чую твій сміх і твій голос у аудіоповідомленнях, які переслуховую знов і знов, і щоразу розумію, як мені пощастило.

Наші стосунки подозріли. Це вже не просто шторм і дощ, це міцна споруда. Хоча в наших повідомленнях останнім часом з’явилося більше серйозності та тривог за те, що буде далі, я хочу, щоб ти знала одне: моє рішення належить тобі. Я хочу бути тією рамкою, про яку ми говорили — міцною, стабільною та безпечною, щоб у ній твоя душа могла дихати й творити.

Дякую тобі за кожну хвилину наших довгих розмов, за кожен стікер, що змушує мене усміхнутися, і за те, що ти залишаєшся зі мною, навіть коли небо затягнуте хмарами. Обіцяю тобі, що я буду поруч. Що кожен ранок починатиметься з мого «Доброго ранку, кохана», і кожну проблему ми вирішимо, говорячи про неї, доки страх не зникне.

Ми пишемо новий розділ. У ньому більше глибини, більше правди і набагато більше нас. Я з нетерпінням чекаю на кожну наступну сторінку.

Дякую, що ти — моє все.
Дякую, що віриш мені.
Дякую, що кохаєш мене таким, яким я є.

Я кохаю тебе.`}
    };

    const d = T[LANG] || T.cs;
    h1.textContent = d.title;
    lede.textContent = d.lede;

    // Psaní s pauzami; po dopsání zobraz podpis a nakresli ho
    const span = document.getElementById('text');
    const txt  = d.letter;
    let i = 0;
    (function type(){
      const ch = txt[i] || "";
      span.textContent += ch;
      i++;
      if (i < txt.length){
        let delay = 32;
        if (",.;?!…".includes(ch)) delay = 140;
        if (ch === "\n") delay = 220;
        setTimeout(type, delay);
      } else {
        span.classList.remove('type-caret');
        showSignature();
      }
    })();

    function showSignature(){
      const sig = document.getElementById('signature');
      sig.style.display = 'flex';
      document.getElementById('closing').textContent = d.closing;

      const p = document.getElementById('sigPath');
      const len = p.getTotalLength();
      p.style.strokeDasharray = String(len);
      p.style.strokeDashoffset = String(len);
      p.style.transition = 'stroke-dashoffset 2600ms ease 180ms';
      requestAnimationFrame(()=>{ p.style.strokeDashoffset = '0'; });
    }

    // Jemný reveal papíru (bez bluru)
    (function(){
      const paper = document.querySelector('.paper');
      paper.style.opacity = 0; paper.style.transform='translateY(10px)';
      setTimeout(()=>{
        paper.style.transition='opacity .8s ease, transform .8s ease';
        paper.style.opacity=1; paper.style.transform='none';
      }, 80);
    })();
  </script>
</body>
</html>